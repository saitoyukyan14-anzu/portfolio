import React, { useState, useEffect, useRef } from 'react';
import { Menu, X, ExternalLink, Play, Search, Calendar, User, ChevronRight, MapPin, GraduationCap, Mail, ChevronDown, ArrowLeft, Clock } from 'lucide-react';

const App = () => {
  const [currentPage, setCurrentPage] = useState('home');
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [activeDropdown, setActiveDropdown] = useState(null);
  const [selectedVideoWork, setSelectedVideoWork] = useState(null);
  const [selectedDanceWork, setSelectedDanceWork] = useState(null);

  // --- Data Structures ---

  const danceWorks = [
    {
      id: 'dance-1',
      title: '作品タイトル 1',
      intent: 'この作品は、身体の微細な動きとデジタル粒子の相関関係を可視化することを目的として制作されました。舞台上に配置された深度カメラがダンサーの関節情報を取得し、それに応答する形で動的なプロジェクションマッピングが生成されます。単なる装飾としての映像ではなく、ダンサーの思考や緊張感が直接的に空間を変容させる「第二の皮膚」としてのテクノロジーを追求しています。観客は身体というアナログな存在が、デジタルな抽象空間と溶け合う瞬間を目撃することになります。',
      videoUrl: '', 
      photos: ['Stage Photo 1', 'Stage Photo 2', 'Detail']
    },
    {
      id: 'dance-2',
      title: '作品タイトル 2',
      intent: '身体知の拡張をテーマにした実践。技術との対話を通じて生まれる新しい舞踊言語の探求です。450字程度の意図を掲載可能なレイアウトを確保しています。',
      videoUrl: '',
      photos: ['Photo 1', 'Photo 2', 'Photo 3']
    },
    {
      id: 'dance-3',
      title: '作品タイトル 3',
      intent: '3つ目の作品に関する詳細なプロジェクト意図。舞台演出におけるHCIの応用例としての側面を持ちます。',
      videoUrl: '',
      photos: ['Photo 1', 'Photo 2', 'Photo 3']
    },
    {
      id: 'dance-4',
      title: '作品タイトル 4',
      intent: '4つ目の作品。センサーデータを用いたリアルタイム・オーディオ・ビジュアライゼーションとの共演。',
      videoUrl: '',
      photos: ['Photo 1', 'Photo 2', 'Photo 3']
    },
    {
      id: 'dance-5',
      title: '作品タイトル 5',
      intent: '5つ目の作品。これまでの活動の集大成として位置づけられる、身体性と技術の高度な融合。',
      videoUrl: '',
      photos: ['Photo 1', 'Photo 2', 'Photo 3']
    }
  ];

  const videoWorks = {
    touchdesigner: [
      { id: 'td-1', title: 'Generative Study #01', summary: 'TouchDesignerを用いたリアルタイム・ジェネラティブ映像の習作です。音響解析アルゴリズムを核に据え、入力される周波数帯域に応じて粒子の拡散速度や色彩が動的に変化するシステムを構築しました。', category: 'TouchDesigner' },
      { id: 'td-2', title: 'Reaction Diffusion Study', summary: '生命現象のシミュレーションである反応拡散系をデジタル空間で再現しました。', category: 'TouchDesigner' },
      { id: 'td-3', title: 'Kinetic Feedback', summary: 'ビデオフィードバック・ループを利用した、デジタルな残像表現の実験。', category: 'TouchDesigner' }
    ],
    blender: [
      { id: 'bl-1', title: 'Virtual Body / Digital Skin', summary: 'フォトグラメトリで生成した身体モデルに対し、BlenderのGeometry Nodesを用いてデジタルな質感を付与しました。肌の質感を微細なメッシュへと置換することで、実体としての身体がデータへと昇華されるプロセスを映像化しています。', category: 'Blender' },
      { id: 'bl-2', title: 'Abstract Architecture', summary: '重力と均衡をテーマにした、仮想的な舞台空間のライティング・スタディ。', category: 'Blender' },
      { id: 'bl-3', title: 'Procedural Landscape', summary: '広大なノイズベースの地形生成。ノードによるプロシージャルなモデリング手法を用い、実在しないがリアリティのある自然環境を構築しました。', category: 'Blender' },
      { id: 'bl-4', title: 'Cloth Simulation Test', summary: '空気の流れと布の相互作用を物理シミュレーションで再現したショートループ映像。', category: 'Blender' }
    ]
  };

  // --- Navigation Logic ---

  const navigateTo = (pageId, sectionId = null, work = null) => {
    setCurrentPage(pageId);
    setIsMenuOpen(false);
    setActiveDropdown(null);
    
    if (pageId === 'video-detail') {
      setSelectedVideoWork(work);
      window.scrollTo(0, 0);
      return;
    }
    
    if (pageId === 'dance-detail' || (typeof sectionId === 'string' && sectionId.startsWith('dance-'))) {
      const danceWork = work || danceWorks.find(d => d.id === sectionId);
      setSelectedDanceWork(danceWork);
      setCurrentPage('dance-detail');
      window.scrollTo(0, 0);
      return;
    }

    if (sectionId) {
      setTimeout(() => {
        const element = document.getElementById(sectionId);
        if (element) {
          const offset = 100;
          const bodyRect = document.body.getBoundingClientRect().top;
          const elementRect = element.getBoundingClientRect().top;
          const elementPosition = elementRect - bodyRect;
          const offsetPosition = elementPosition - offset;
          window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
        }
      }, 100);
    } else {
      window.scrollTo(0, 0);
    }
  };

  const navLinks = [
    { id: 'home', label: 'ホーム' },
    { 
      id: 'dance', 
      label: 'ダンス作品',
      subItems: danceWorks.map(d => ({ id: d.id, label: d.title }))
    },
    { 
      id: 'research', 
      label: '研究',
      subItems: [
        { id: 'master', label: '修士研究' },
        { id: 'undergrad', label: '学部研究' },
      ]
    },
    { 
      id: 'video', 
      label: '映像制作',
      subItems: [
        { id: 'blender', label: 'Blender' },
        { id: 'touchdesigner', label: 'TouchDesigner' },
      ]
    },
    { 
      id: 'event', 
      label: 'イベント企画',
      subItems: [
        { id: 'event-1', label: 'テクノロジーと身体の祭典' },
        { id: 'event-2', label: 'HCI Workshop' },
      ]
    }
  ];

  // --- Components ---

  const Header = () => (
    <header className="fixed top-0 left-0 w-full h-20 bg-white/90 backdrop-blur-md border-b border-gray-100 z-50">
      <style>{`
        @keyframes cat-walk-left {
          0% { left: 100%; transform: scaleX(-1); }
          100% { left: -100px; transform: scaleX(-1); }
        }
        .cat-walker {
          position: absolute;
          top: -28px;
          height: 28px;
          width: auto;
          pointer-events: none;
          z-index: 60;
          animation: cat-walk-left 25s linear infinite;
        }
      `}</style>

      <img src="cat.gif" alt="" className="cat-walker" onError={(e) => e.target.style.display='none'} />

      <div className="container mx-auto h-full px-6 flex justify-between items-center relative">
        <button 
          onClick={() => navigateTo('home')} 
          className="text-lg font-bold tracking-widest uppercase text-gray-900"
        >
          Suzuki Yuki
        </button>

        <nav className="hidden md:flex space-x-8 h-full">
          {navLinks.map((link) => (
            <div 
              key={link.id} 
              className="relative h-full flex items-center group"
              onMouseEnter={() => setActiveDropdown(link.id)}
              onMouseLeave={() => setActiveDropdown(null)}
            >
              <button
                onClick={() => navigateTo(link.id)}
                className={`text-sm tracking-wide transition-all relative py-1 flex items-center gap-1 ${
                  (currentPage === link.id || (link.id === 'video' && currentPage === 'video-detail') || (link.id === 'dance' && currentPage === 'dance-detail')) ? 'text-blue-900 font-medium' : 'text-gray-500 hover:text-gray-900'
                }`}
              >
                {link.label}
                {link.subItems && <ChevronDown size={14} className="opacity-50" />}
                {(currentPage === link.id || (link.id === 'video' && currentPage === 'video-detail') || (link.id === 'dance' && currentPage === 'dance-detail')) && (
                  <span className="absolute bottom-0 left-0 w-full h-0.5 bg-blue-900"></span>
                )}
              </button>

              {link.subItems && activeDropdown === link.id && (
                <div className="absolute top-20 left-1/2 -translate-x-1/2 w-56 bg-white border border-gray-100 shadow-xl py-2 animate-in fade-in slide-in-from-top-2 duration-200">
                  {link.subItems.map((sub) => (
                    <button
                      key={sub.id}
                      onClick={() => navigateTo(link.id, sub.id)}
                      className="w-full text-left px-6 py-3 text-xs text-gray-500 hover:text-blue-900 hover:bg-gray-50 transition-colors border-b border-gray-50 last:border-0"
                    >
                      {sub.label}
                    </button>
                  ))}
                </div>
              )}
            </div>
          ))}
        </nav>

        <button className="md:hidden" onClick={() => setIsMenuOpen(!isMenuOpen)}>
          {isMenuOpen ? <X /> : <Menu />}
        </button>
      </div>

      {isMenuOpen && (
        <div className="absolute top-20 left-0 w-full bg-white border-b border-gray-100 md:hidden animate-in slide-in-from-top duration-300 max-h-[80vh] overflow-y-auto">
          <div className="flex flex-col p-6 space-y-6">
            {navLinks.map((link) => (
              <div key={link.id}>
                <button
                  onClick={() => navigateTo(link.id)}
                  className={`text-left text-lg font-light ${currentPage === link.id ? 'text-blue-900 font-bold' : 'text-gray-600'}`}
                >
                  {link.label}
                </button>
                {link.subItems && (
                  <div className="mt-2 ml-4 flex flex-col space-y-2 border-l border-gray-100 pl-4">
                    {link.subItems.map((sub) => (
                      <button
                        key={sub.id}
                        onClick={() => navigateTo(link.id, sub.id)}
                        className="text-left text-sm text-gray-400 hover:text-blue-900"
                      >
                        {sub.label}
                      </button>
                    ))}
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>
      )}
    </header>
  );

  const Footer = () => (
    <footer className="bg-gray-50 border-t border-gray-100 py-16">
      <div className="container mx-auto px-6 text-center">
        <p className="text-sm text-gray-400 tracking-widest uppercase mb-4">Suzuki Yuki Portfolio Archive</p>
        <p className="text-xs text-gray-400">&copy; 2024 Design & Development by Suzuki Yuki. All Rights Reserved.</p>
      </div>
    </footer>
  );

  const HomeHero = () => {
    const [currentSlide, setCurrentSlide] = useState(0);
    const slides = [
      { id: 'h-1', type: 'dance', page: 'dance-detail', work: danceWorks[0], label: 'Dance Work: 作品タイトル 1', videoUrl: '/videos/hero-dance1.mp4' },
      { id: 'h-2', type: 'dance', page: 'dance-detail', work: danceWorks[1], label: 'Dance Work: 作品タイトル 2', videoUrl: '/videos/hero-dance2.mp4' },
      { id: 'h-3', type: 'dance', page: 'dance-detail', work: danceWorks[2], label: 'Dance Work: 作品タイトル 3', videoUrl: '/videos/hero-dance3.mp4' },
      { id: 'h-4', type: 'research', page: 'research', sectionId: 'master', label: '修士研究: 叙事的インタラクション', videoUrl: '/videos/hero-research.mp4' },
      { id: 'h-5', type: 'video', page: 'video-detail', work: videoWorks.blender[0], label: 'Blender: Virtual Body / Digital Skin', videoUrl: '/videos/hero-blender.mp4' },
      { id: 'h-6', type: 'event', page: 'event', sectionId: 'event-1', label: 'Event: テクノロジーと身体の祭典', videoUrl: '/videos/hero-event.mp4' }
    ];

    const nextSlide = () => setCurrentSlide((prev) => (prev + 1) % slides.length);
    const prevSlide = () => setCurrentSlide((prev) => (prev - 1 + slides.length) % slides.length);

    useEffect(() => {
      const timer = setInterval(nextSlide, 7000);
      return () => clearInterval(timer);
    }, [slides.length]);

    const dragStartX = useRef(null);
    const dragEndX = useRef(null);
    const minSwipeDistance = 50;

    const onTouchStart = (e) => {
      dragEndX.current = null;
      dragStartX.current = e.targetTouches[0].clientX;
    };
    const onTouchMove = (e) => (dragEndX.current = e.targetTouches[0].clientX);
    const onTouchEnd = () => {
      if (!dragStartX.current || !dragEndX.current) return;
      const distance = dragStartX.current - dragEndX.current;
      if (distance > minSwipeDistance) nextSlide();
      if (distance < -minSwipeDistance) prevSlide();
    };

    const onMouseDown = (e) => {
      dragEndX.current = null;
      dragStartX.current = e.clientX;
    };
    const onMouseMove = (e) => {
      if (dragStartX.current !== null) dragEndX.current = e.clientX;
    };
    const onMouseUp = (e) => {
      if (dragStartX.current !== null && dragEndX.current !== null) {
        const distance = dragStartX.current - dragEndX.current;
        if (Math.abs(distance) > minSwipeDistance) {
          if (distance > 0) nextSlide();
          else prevSlide();
        } else {
          handleSlideClick(slides[currentSlide]);
        }
      } else if (dragStartX.current !== null) {
        handleSlideClick(slides[currentSlide]);
      }
      dragStartX.current = null;
    };

    const handleSlideClick = (slide) => {
      navigateTo(slide.page, slide.sectionId, slide.work);
    };

    return (
      <section 
        className="relative h-screen w-full flex items-center justify-center overflow-hidden bg-black select-none"
        onTouchStart={onTouchStart}
        onTouchMove={onTouchMove}
        onTouchEnd={onTouchEnd}
        onMouseDown={onMouseDown}
        onMouseMove={onMouseMove}
        onMouseUp={onMouseUp}
      >
        <div className="absolute inset-0 z-0">
          {slides.map((slide, index) => (
            <div
              key={slide.id}
              className={`absolute inset-0 transition-opacity duration-[1500ms] ease-in-out cursor-grab active:cursor-grabbing ${
                index === currentSlide ? 'opacity-60 z-10 pointer-events-auto' : 'opacity-0 z-0 pointer-events-none'
              }`}
            >
              <video
                src={slide.videoUrl}
                autoPlay loop muted playsInline
                className="w-full h-full object-cover pointer-events-none"
                onCanPlay={(e) => e.currentTarget.play()}
              />
              <div className="absolute inset-0 bg-blue-900/0 group-hover:bg-blue-900/10 transition-all duration-500"></div>
              <div className={`absolute bottom-20 right-12 text-right transition-all duration-1000 delay-500 pointer-events-none ${
                index === currentSlide ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'
              }`}>
                <div className="flex items-center justify-end gap-2 text-white/50 mb-1">
                   <span className="text-[10px] tracking-[0.4em] uppercase">Project Detail</span>
                   <ChevronRight size={12} />
                </div>
                <span className="text-lg text-white font-light tracking-widest border-b border-white/20 pb-1 inline-block">{slide.label}</span>
              </div>
            </div>
          ))}
        </div>

        <div className="relative z-20 text-center px-6 pointer-events-none">
          <div className="animate-in fade-in zoom-in duration-1000">
            <h1 className="text-6xl md:text-9xl font-extralight tracking-tighter text-white mb-6 drop-shadow-2xl">
              Suzuki <span className="font-normal italic">Yuki</span>
            </h1>
            <p className="text-sm md:text-lg text-white/90 font-light tracking-[0.6em] uppercase drop-shadow-lg">
              人生を変える体験の創出を目指して
            </p>
          </div>
          <div className="mt-16 h-16 w-px bg-white/30 mx-auto animate-bounce"></div>
        </div>

        <div className="absolute bottom-10 left-1/2 -translate-x-1/2 z-30 flex gap-4">
          {slides.map((_, index) => (
            <button
              key={index}
              onClick={(e) => { e.stopPropagation(); setCurrentSlide(index); }}
              className={`h-[1px] transition-all duration-500 ${index === currentSlide ? 'w-16 bg-white' : 'w-4 bg-white/20 hover:bg-white/40'}`}
            />
          ))}
        </div>
      </section>
    );
  };

  const Home = () => (
    <div className="pt-0">
      <HomeHero />
      <section className="py-32 bg-white">
        <div className="container mx-auto px-6 max-w-4xl text-center">
          <h2 className="text-xs font-bold tracking-[0.4em] text-blue-900 uppercase mb-16">Philosophy</h2>
          <p className="text-xl md:text-2xl font-light leading-relaxed text-gray-700 text-balance">
            舞台演出、HCI、そしてダンス。私は技術を身体の拡張、あるいは表現のパートナーとして捉えています。デジタルの冷徹さと身体の熱量が交差する瞬間の美しさを探究しています。
          </p>
        </div>
      </section>

      <section className="py-24 bg-gray-50">
        <div className="container mx-auto px-6 max-w-5xl">
          <h2 className="text-xs font-bold tracking-[0.4em] text-blue-900 uppercase mb-16 text-center">Profile</h2>
          <div className="grid md:grid-cols-12 gap-12 items-center">
            <div className="md:col-span-5">
              <div className="aspect-[4/5] bg-gray-200 border border-gray-100 shadow-sm relative overflow-hidden group">
                <div className="absolute inset-0 flex items-center justify-center text-gray-400 font-light italic text-sm text-center px-4">[Profile Photo]</div>
                <div className="absolute inset-0 border-8 border-white/20 pointer-events-none"></div>
              </div>
            </div>
            <div className="md:col-span-7">
              <div className="mb-8">
                <h3 className="text-3xl font-light mb-2 tracking-tight">Suzuki Yuki / 鈴木 夕輝</h3>
                <div className="space-y-3">
                  <div className="flex items-center gap-2 text-blue-900">
                    <GraduationCap size={18} />
                    <span className="text-sm font-medium tracking-wide">University Name / 大学名</span>
                  </div>
                  <div className="flex items-center gap-2 text-gray-600">
                    <Mail size={16} className="text-blue-900" />
                    <span className="text-sm font-light tracking-wide">example@email.com</span>
                  </div>
                  <div className="flex items-center gap-2 text-gray-400">
                    <MapPin size={16} />
                    <span className="text-xs tracking-wider uppercase">Tokyo, Japan</span>
                  </div>
                </div>
              </div>
              <div className="space-y-4">
                <h4 className="text-[10px] font-bold text-gray-400 tracking-[0.2em] uppercase border-b border-gray-200 pb-2">About Me</h4>
                <p className="text-gray-600 text-sm md:text-base leading-relaxed text-justify">
                  ここに500文字程度の自己紹介文が入ります。私の活動は身体表現とテクノロジーの融合を軸としています。幼少期よりダンスに親しみ、その中で感じる「身体の限界」への関心から計算機科学の道を志しました。現在はダンスパフォーマンスにおけるリアルタイム演出システムやHCIの観点からの研究に取り組んでいます。
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section className="py-24 bg-white">
        <div className="container mx-auto px-6">
          <h2 className="text-xs font-bold tracking-[0.4em] text-blue-900 uppercase mb-16 text-center">Key Activities</h2>
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {[
              { title: 'Dance & Stage', desc: '身体と光を同期させる演出作品。', page: 'dance' },
              { title: 'HCI Research', desc: '触覚フィードバックと身体知の研究。', page: 'research' },
              { title: 'Visual Arts', desc: 'Generative Artや3DCG表現。', page: 'video' },
              { title: 'Event Planning', desc: '技術と芸術を繋ぐ企画・運営。', page: 'event' }
            ].map((item, i) => (
              <div key={i} onClick={() => navigateTo(item.page)} className="group cursor-pointer bg-white p-8 border border-gray-100 hover:border-blue-900 transition-all duration-500 hover:-translate-y-2 flex flex-col h-full">
                <span className="text-[10px] text-gray-400 uppercase tracking-widest mb-4 block">{item.title}</span>
                <h3 className="text-lg font-medium mb-3 group-hover:text-blue-900 transition-colors">{item.title}</h3>
                <p className="text-gray-500 text-xs leading-relaxed mb-6 flex-grow">{item.desc}</p>
                <ChevronRight className="w-4 h-4 text-blue-900 opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0" />
              </div>
            ))}
          </div>
        </div>
      </section>
    </div>
  );

  const Dance = () => (
    <div className="pt-32 pb-24 animate-in fade-in duration-700">
      <div className="container mx-auto px-6">
        <div className="mb-20 text-center">
          <h1 className="text-4xl font-extralight tracking-widest uppercase mb-4">Dance Works</h1>
          <div className="w-12 h-px bg-blue-900 mx-auto"></div>
        </div>
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {danceWorks.map(work => (
            <div key={work.id} className="group cursor-pointer" onClick={() => navigateTo('dance-detail', null, work)}>
              <div className="aspect-video bg-gray-50 border border-gray-100 mb-6 flex items-center justify-center group-hover:border-blue-900 transition-all shadow-sm relative overflow-hidden">
                 <div className="text-[10px] text-gray-300 uppercase font-mono">[画像: {work.title}]</div>
                 <div className="absolute inset-0 bg-blue-900/0 group-hover:bg-blue-900/5 transition-all"></div>
              </div>
              <h3 className="text-base font-medium mb-1 group-hover:text-blue-900 transition-colors">{work.title}</h3>
              <p className="text-[10px] text-gray-400 uppercase tracking-widest">View Project</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  );

  const DanceDetail = () => {
    if (!selectedDanceWork) return null;
    return (
      <div className="pt-32 pb-24 animate-in fade-in duration-500">
        <div className="container mx-auto px-6 max-w-5xl">
          <button onClick={() => setCurrentPage('dance')} className="flex items-center gap-2 text-xs text-gray-400 hover:text-blue-900 mb-12 transition-colors uppercase tracking-widest"><ArrowLeft size={14} /> Back to Works</button>
          <h1 className="text-3xl md:text-4xl font-light tracking-widest text-center mb-12 uppercase">{selectedDanceWork.title}</h1>
          <div className="w-full aspect-video bg-black rounded-sm shadow-xl flex items-center justify-center relative group overflow-hidden mb-16">
             <div className="absolute inset-0 flex items-center justify-center bg-gray-900"><Play className="w-16 h-16 text-white/20" /></div>
             <iframe className="w-full h-full relative z-10" src={selectedDanceWork.videoUrl} title="Video Player" allowFullScreen></iframe>
          </div>
          <div className="max-w-3xl mx-auto mb-20">
            <span className="block text-center text-[10px] font-bold text-blue-900 tracking-[0.3em] uppercase mb-8 border-b border-gray-100 pb-2">Project Intent</span>
            <p className="text-gray-600 text-sm md:text-base leading-[2.2] text-justify">{selectedDanceWork.intent}</p>
          </div>
          <div className="grid grid-cols-3 gap-4">
            {selectedDanceWork.photos.map((p, i) => (
              <div key={i} className="aspect-[4/3] bg-gray-50 border border-gray-200 flex items-center justify-center text-[10px] text-gray-300 uppercase tracking-widest">{p}</div>
            ))}
          </div>
        </div>
      </div>
    );
  };

  const Research = () => (
    <div className="pt-32 pb-24 animate-in fade-in duration-700">
      <div className="container mx-auto px-6 max-w-5xl">
        <div className="mb-20 text-center">
          <h1 className="text-4xl font-extralight tracking-widest uppercase mb-4">Research</h1>
          <div className="w-12 h-px bg-blue-900 mx-auto mb-10"></div>
          <div className="flex justify-center flex-wrap gap-4 mb-20">
            <button onClick={() => navigateTo('research', 'master')} className="px-6 py-2.5 border border-gray-200 text-[10px] tracking-widest uppercase hover:border-blue-900 transition-all rounded-full bg-white shadow-sm">修士研究</button>
            <button onClick={() => navigateTo('research', 'undergrad')} className="px-6 py-2.5 border border-gray-200 text-[10px] tracking-widest uppercase hover:border-blue-900 transition-all rounded-full bg-white shadow-sm">学部研究</button>
          </div>
        </div>

        <section id="master" className="mb-40 scroll-mt-32">
          <div className="flex items-center gap-4 mb-10">
            <h2 className="text-2xl font-light tracking-widest shrink-0 text-gray-900">修士研究</h2>
            <div className="h-px bg-gray-100 w-full"></div>
          </div>
          <h3 className="text-xl md:text-2xl font-light mb-8 border-l-4 border-blue-900 pl-6 tracking-tight italic">ウェアラブルデバイスを用いた即興表現の拡張</h3>
          <div className="aspect-video bg-gray-50 border border-gray-100 mb-10 flex items-center justify-center text-gray-300 font-light italic">[Master Research Diagram]</div>
          <p className="text-xs md:text-sm text-gray-500 italic px-8 border-l-2 border-gray-100 py-4 leading-loose mb-16 text-justify">修士研究アブストラクト（600〜700字）。身体とデバイスのインタラクションがいかに舞踊表現を誘発するかについてのアプローチ。</p>
          <div className="grid md:grid-cols-2 gap-12 mb-12">
            <div className="space-y-4">
              <h4 className="text-[10px] font-bold text-blue-900 tracking-widest uppercase pb-2 border-b border-gray-100">叙事的インタラクションとは</h4>
              <p className="text-xs md:text-sm text-gray-600 leading-relaxed text-justify">概念解説（100〜250文字）。単なる機能反応を超えた物語性の組み込みについて。</p>
            </div>
            <div className="space-y-4">
              <h4 className="text-[10px] font-bold text-blue-900 tracking-widest uppercase pb-2 border-b border-gray-100">潜像技術とは</h4>
              <p className="text-xs md:text-sm text-gray-600 leading-relaxed text-justify">技術解説（100〜250文字）。身体感覚を通じた情報の顕在化手法について。</p>
            </div>
          </div>
          <div className="space-y-4">
            <h4 className="text-[10px] font-bold text-blue-900 tracking-widest uppercase pb-2 border-b border-gray-100">実装方法</h4>
            <p className="text-xs md:text-sm text-gray-600 leading-loose text-justify">修士研究の具体的な実装プロセス。使用したセンサーやリアルタイムデータ処理フローについて詳述。</p>
          </div>
        </section>

        <section id="undergrad" className="scroll-mt-32">
          <div className="flex items-center gap-4 mb-10">
            <h2 className="text-2xl font-light tracking-widest shrink-0 text-gray-900">学部研究</h2>
            <div className="h-px bg-gray-100 w-full"></div>
          </div>
          <h3 className="text-xl md:text-2xl font-light mb-8 border-l-4 border-gray-300 pl-6 tracking-tight">視覚的フィードバックによる身体イメージの変容</h3>
          <div className="aspect-video bg-gray-50 border border-gray-100 mb-10 flex items-center justify-center text-gray-300 font-light italic">[Undergrad Research Diagram]</div>
          <p className="text-xs md:text-sm text-gray-500 italic px-8 border-l-2 border-gray-100 py-4 leading-loose mb-16 text-justify">学部研究アブストラクト（600〜700字程度）。</p>
          <div className="grid md:grid-cols-2 gap-12">
            <div className="space-y-4">
              <h4 className="text-[10px] font-bold text-blue-900 tracking-widest uppercase pb-2 border-b border-gray-100">サッケードディスプレイとは</h4>
              <p className="text-xs md:text-sm text-gray-600 leading-relaxed text-justify">原理解説（100〜250文字）。急速な眼球運動特性を利用した知覚現象について。</p>
            </div>
            <div className="space-y-4">
              <h4 className="text-[10px] font-bold text-blue-900 tracking-widest uppercase pb-2 border-b border-gray-100">実装方法</h4>
              <p className="text-xs md:text-sm text-gray-600 leading-relaxed text-justify">学部研究の実装工程について記述。</p>
            </div>
          </div>
        </section>
      </div>
    </div>
  );

  const Video = () => (
    <div className="pt-32 pb-24 animate-in fade-in duration-700">
      <div className="container mx-auto px-6">
        <div className="mb-12 text-center">
          <h1 className="text-4xl font-extralight tracking-widest uppercase mb-10">Video Production</h1>
          <div className="flex justify-center space-x-4 mb-16">
            <button onClick={() => navigateTo('video', 'blender')} className="px-6 py-2 rounded-full border border-gray-200 text-[10px] tracking-widest hover:border-blue-900 transition-colors uppercase">Blender</button>
            <button onClick={() => navigateTo('video', 'touchdesigner')} className="px-6 py-2 rounded-full border border-gray-200 text-[10px] tracking-widest hover:border-blue-900 transition-colors uppercase">TouchDesigner</button>
          </div>
        </div>
        <section id="blender" className="mb-24 scroll-mt-32">
          <h2 className="text-lg font-light flex items-center gap-4 mb-12">Blender <span className="h-px bg-gray-100 grow"></span></h2>
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            {videoWorks.blender.map(work => (
              <div key={work.id} className="group cursor-pointer" onClick={() => navigateTo('video-detail', null, work)}>
                <div className="aspect-video bg-gray-50 border border-gray-100 mb-4 flex items-center justify-center group-hover:border-blue-900 transition-all shadow-sm relative overflow-hidden">
                   <div className="text-[10px] text-gray-300 uppercase font-mono">[画像: {work.title}]</div>
                </div>
                <h3 className="text-sm font-medium mb-1 group-hover:text-blue-900 transition-colors">{work.title}</h3>
                <p className="text-[10px] text-gray-400 uppercase tracking-widest">View Project</p>
              </div>
            ))}
          </div>
        </section>
        <section id="touchdesigner" className="scroll-mt-32">
          <h2 className="text-lg font-light flex items-center gap-4 mb-12">TouchDesigner <span className="h-px bg-gray-100 grow"></span></h2>
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            {videoWorks.touchdesigner.map(work => (
              <div key={work.id} className="group cursor-pointer" onClick={() => navigateTo('video-detail', null, work)}>
                <div className="aspect-video bg-gray-50 border border-gray-100 mb-6 flex items-center justify-center group-hover:border-blue-900 transition-all shadow-sm relative overflow-hidden">
                   <div className="text-[10px] text-gray-300 uppercase font-mono">[画像: {work.title}]</div>
                </div>
                <h3 className="text-base font-medium mb-1 group-hover:text-blue-900 transition-colors">{work.title}</h3>
                <p className="text-[10px] text-gray-400 uppercase tracking-widest">View Project</p>
              </div>
            ))}
          </div>
        </section>
      </div>
    </div>
  );

  const VideoDetail = () => {
    if (!selectedVideoWork) return null;
    return (
      <div className="pt-32 pb-24 animate-in fade-in duration-500">
        <div className="container mx-auto px-6 max-w-4xl">
          <button onClick={() => setCurrentPage('video')} className="flex items-center gap-2 text-xs text-gray-400 hover:text-blue-900 mb-12 transition-colors uppercase tracking-widest"><ArrowLeft size={14} /> Back to Works</button>
          <div className="mb-12">
            <span className="text-[10px] font-bold text-blue-900 tracking-[0.3em] uppercase mb-4 block">{selectedVideoWork.category}</span>
            <h1 className="text-3xl md:text-4xl font-light tracking-tight mb-8">{selectedVideoWork.title}</h1>
            <div className="w-full aspect-video bg-black rounded-sm shadow-xl flex items-center justify-center relative group overflow-hidden">
               <div className="absolute inset-0 bg-gray-900 flex items-center justify-center"><Play className="text-white/20 w-12 h-12" /></div>
               <iframe className="w-full h-full relative z-10" src="" title="Video Player" allowFullScreen></iframe>
            </div>
          </div>
          <div className="max-w-2xl">
             <h2 className="text-[10px] font-bold text-gray-400 tracking-widest uppercase pb-2 border-b border-gray-100 mb-6">Overview</h2>
             <p className="text-gray-600 text-sm md:text-base leading-relaxed text-justify whitespace-pre-wrap">{selectedVideoWork.summary}</p>
          </div>
        </div>
      </div>
    );
  };

  const Event = () => (
    <div className="pt-32 pb-24 animate-in fade-in duration-700">
      <div className="container mx-auto px-6 max-w-5xl text-center">
        <h1 className="text-4xl font-extralight tracking-widest uppercase mb-4">Event Archive</h1>
        <div className="w-12 h-px bg-blue-900 mx-auto mb-10"></div>
        <div className="flex justify-center flex-wrap gap-4 mb-20 animate-in fade-in slide-in-from-bottom-2 duration-700">
          <button onClick={() => navigateTo('event', 'event-1')} className="px-6 py-2.5 border border-gray-200 text-[10px] tracking-widest uppercase hover:border-blue-900 hover:text-blue-900 transition-all rounded-full bg-white shadow-sm">テクノロジーと身体の祭典 2023</button>
          <button onClick={() => navigateTo('event', 'event-2')} className="px-6 py-2.5 border border-gray-200 text-[10px] tracking-widest uppercase hover:border-blue-900 hover:text-blue-900 transition-all rounded-full bg-white shadow-sm">HCI Workshop</button>
        </div>
        <div className="space-y-0 text-left">
          {[1, 2].map(i => (
            <article key={i} id={`event-${i}`} className={`group py-24 scroll-mt-32 ${i !== 2 ? 'border-b border-gray-100' : ''}`}>
              <div className="text-center mb-12">
                <h2 className="text-2xl font-light mb-3 tracking-tight">{i === 1 ? 'テクノロジーと身体の祭典 2023' : 'HCI Workshop: 身体のデジタル・アーカイブ'}</h2>
                <div className="flex items-center justify-center gap-2 text-xs text-gray-400 uppercase tracking-widest">
                  <Clock size={12} className="text-blue-900" />
                  <span>{i === 1 ? '2023.11.15 - 11.20' : '2024.03.10'}</span>
                </div>
              </div>
              <div className="w-full aspect-[21/9] bg-gray-50 border border-gray-100 mb-16 flex items-center justify-center text-gray-200 uppercase tracking-widest text-sm italic shadow-sm">[イベントキービジュアル]</div>
              <div className="max-w-2xl mx-auto">
                <div className="mb-12">
                   <span className="block text-[10px] font-bold text-blue-900 tracking-[0.3em] uppercase mb-6 border-b border-gray-100 pb-2">Event Overview</span>
                   <div className="text-sm text-gray-600 leading-[2.2] text-justify space-y-6">
                      <p>ここに1000文字程度のイベント概要が入ります。役割、活動内容、成果などを詳細に記述可能です。</p>
                   </div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 pt-8 border-t border-gray-50">
                  <div className="space-y-2">
                    <span className="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Role</span>
                    <p className="text-xs text-gray-600">{i === 1 ? 'Technical Director, Producer' : 'Workshop Facilitator, Designer'}</p>
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>
    </div>
  );

  const renderContent = () => {
    switch (currentPage) {
      case 'home': return <Home />;
      case 'dance': return <Dance />;
      case 'dance-detail': return <DanceDetail />;
      case 'research': return <Research />;
      case 'video': return <Video />;
      case 'video-detail': return <VideoDetail />;
      case 'event': return <Event />;
      default: return <Home />;
    }
  };

  return (
    <div className="min-h-screen bg-white text-gray-900 selection:bg-blue-900 selection:text-white font-['Noto_Sans_JP',sans-serif]">
      <Header />
      <main>{renderContent()}</main>
      <Footer />
    </div>
  );
};

export default App;